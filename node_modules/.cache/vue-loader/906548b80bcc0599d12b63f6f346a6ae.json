{"remainingRequest":"/Users/xuyangbing/Desktop/devopsManage/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xuyangbing/Desktop/devopsManage/client/src/views/Demo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xuyangbing/Desktop/devopsManage/client/src/views/Demo.vue","mtime":1553059172000},{"path":"/Users/xuyangbing/Desktop/devopsManage/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuyangbing/Desktop/devopsManage/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xuyangbing/Desktop/devopsManage/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuyangbing/Desktop/devopsManage/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Console from './Console'\n\texport default {\n\t\tname: \"pod\",\n\t\tdata () {\n\t\t\treturn {\n            namespace: '',\n            pod: '',\n            container: '',\n\t\t\tterminal: {\n\t\t\t        pid: 1,\n\t\t\t        name: 'terminal',\n\t\t\t        cols: 1000,\n\t\t\t        rows: 1000\n\t\t\t      },\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t\n\t\t},\n\t\tmounted(){\n\t\t   this.namespace = localStorage.getItem('namespace')\n           this.pod = localStorage.getItem('pod')\n            console.log(this.namespace)\n            console.log(this.pod)\n\t\t   this.$http.get('/terminal/ws?namespace=' + this.namespace + \"&pod=\" + this.pod)\n\t\t\t   .then(function(response){\n\t\t\t\tlet resp = response.data;\n\t\t\t\tif(resp.success){\n\t\t\t\t  this.logtxt = resp.data.replicas\n\t\t\t\t  this.logtxt = this.logtxt.replace(/\\n/g, \"\\r\\n\")\n\t\t\t\t  this.$refs.xterm.term.write(this.logtxt)\n\t\t\t\t  this.$refs.xterm.term.write(this.logtxt)\n\t\t\t\t  this.$refs.xterm.term.fit()\n \n\t\t\t\t  }else{\n\t\t\t\t    this.$message.error(\"获取日志信息失败！\" + resp.errorMsg);\n\t\t\t\t  }\n\t\t\t  })\n\t\t\t  .catch(function(err){\n\t\t\t   this.$message.error(\"获取日志信息失败！\" + err.message);\n\t\t\t  });\n\t\t\t\n\t\t},\n \n\t\tcomponents: {\n\t\t    'my-terminal': Console\n\t\t}\n\t}\n",{"version":3,"sources":["Demo.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"Demo.vue","sourceRoot":"src/views","sourcesContent":["\n<template>\n\t<section>\n\t    <div id=\"log\" style=\"margin-top:20px;\">\n\t\t\t    <my-terminal :terminal=\"terminal\" ref=\"xterm\"></my-terminal>\n\t    </div>\n\t</section>\n</template>\n \n<script>\nimport Console from './Console'\n\texport default {\n\t\tname: \"pod\",\n\t\tdata () {\n\t\t\treturn {\n            namespace: '',\n            pod: '',\n            container: '',\n\t\t\tterminal: {\n\t\t\t        pid: 1,\n\t\t\t        name: 'terminal',\n\t\t\t        cols: 1000,\n\t\t\t        rows: 1000\n\t\t\t      },\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t\n\t\t},\n\t\tmounted(){\n\t\t   this.namespace = localStorage.getItem('namespace')\n           this.pod = localStorage.getItem('pod')\n            console.log(this.namespace)\n            console.log(this.pod)\n\t\t   this.$http.get('/terminal/ws?namespace=' + this.namespace + \"&pod=\" + this.pod)\n\t\t\t   .then(function(response){\n\t\t\t\tlet resp = response.data;\n\t\t\t\tif(resp.success){\n\t\t\t\t  this.logtxt = resp.data.replicas\n\t\t\t\t  this.logtxt = this.logtxt.replace(/\\n/g, \"\\r\\n\")\n\t\t\t\t  this.$refs.xterm.term.write(this.logtxt)\n\t\t\t\t  this.$refs.xterm.term.write(this.logtxt)\n\t\t\t\t  this.$refs.xterm.term.fit()\n \n\t\t\t\t  }else{\n\t\t\t\t    this.$message.error(\"获取日志信息失败！\" + resp.errorMsg);\n\t\t\t\t  }\n\t\t\t  })\n\t\t\t  .catch(function(err){\n\t\t\t   this.$message.error(\"获取日志信息失败！\" + err.message);\n\t\t\t  });\n\t\t\t\n\t\t},\n \n\t\tcomponents: {\n\t\t    'my-terminal': Console\n\t\t}\n\t}\n</script>\n \n<style scoped>\n \n \n</style>\n"]}]}